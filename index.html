<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>Monkey‚Äôs Jungle Quest ‚Äî Mini Games</title>
<style>
  :root{
    --bg:#fffef8;
    --jungle:#c3f2c0;
    --leaf:#8ae68a;
    --deep:#2c7a3f;
    --accent:#ffd369;
    --dark:#2b2b2b;
    --card:#ffffff;
    --shadow:0 8px 18px rgba(0,0,0,.12);
    --radius:16px;
  }
  html,body{margin:0;padding:0;background:var(--bg);font-family: ui-rounded, -apple-system, system-ui, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:var(--dark);}
  header{
    position:sticky;top:0;background:linear-gradient(180deg, #e8ffe6, #ffffff);
    padding:14px 16px;display:flex;gap:12px;align-items:center;z-index:5;border-bottom:1px solid #eaeaea
  }
  .brand{
    display:flex;align-items:center;gap:10px;font-weight:800;font-size:18px;letter-spacing:.3px;
  }
  .brand .logo{font-size:28px;filter: drop-shadow(0 2px 0 rgba(0,0,0,.05));}
  .tagline{font-size:12px;color:#345;opacity:.8;margin-top:-6px}
  main{padding:18px}
  .grid{display:grid;grid-template-columns:1fr;gap:16px;max-width:980px;margin:0 auto}
  .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
  .menu{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .btn{
    background:var(--deep);color:white;border:none;border-radius:14px;padding:14px 16px;
    font-weight:700; font-size:16px; box-shadow: var(--shadow);
  }
  .btn.secondary{background:var(--leaf);color:#144d2e}
  .btn.light{background:#fff;border:2px solid #e6f5e6;color:#145432}
  .pill{display:inline-block;background:#e9ffe9;color:#145432;border-radius:999px;padding:6px 10px;font-size:12px;margin-left:8px}
  .scene{background:linear-gradient(180deg,#f5fff5, #ffffff); border:1px solid #e9f5e9; border-radius:16px; padding:14px}
  .hidden{display:none}
  .topbar{display:flex;justify-content:space-between;gap:8px;align-items:center;margin-bottom:10px}
  .back{background:#fff;border:2px solid #e6f5e6;color:#145432;border-radius:12px;padding:8px 12px;font-weight:700}
  .score{font-size:14px;background:#fff7d8;border:1px solid #ffe9a9;border-radius:999px;padding:6px 10px}
  .title{font-size:18px;font-weight:800;margin:0 0 8px}
  .sub{font-size:13px;opacity:.8;margin:0 0 12px}
  .footer-note{font-size:12px;opacity:.6;text-align:center;margin-top:16px}
  /* Game specific */
  #mathGame .q{font-size:28px;text-align:center;margin:16px 0}
  #mathGame .choices{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
  #mathGame .choices button{padding:14px 0;border-radius:12px;border:none;background:#eaffea;font-size:22px;font-weight:900}
  #mathGame .banana{font-size:28px;margin-right:6px}
  #mathGame .feedback{height:26px;text-align:center;font-weight:800}
  /* Memory */
  #memory .board{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
  .tile{aspect-ratio:1/1;background:#145432;color:white;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:30px;user-select:none;cursor:pointer}
  .tile.open,.tile.matched{background:#eaffea;color:#145432;border:2px solid #bdf4bd}
  /* Sliding puzzle */
  #puzzle .board{display:grid;grid-template-columns:repeat(3,70px);gap:6px;justify-content:center}
  .piece{width:70px;height:70px;background:#e6ffe6;border:2px solid #b9efb9;border-radius:10px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:22px;cursor:pointer}
  .piece.blank{background:#fff;border:2px dashed #d7edd7}
  /* Letter path game */
  #letters .grid{display:grid;grid-template-columns:repeat(5,48px);gap:6px;justify-content:center}
  .cell{width:48px;height:48px;border-radius:10px;background:#e9fff0;border:2px solid #c8f4d5;display:flex;align-items:center;justify-content:center;font-weight:900;cursor:pointer}
  .cell.active{background:#fff2c6;border-color:#ffd369}
  /* Hide & Seek */
  #hide .play{position:relative; height:380px; background:linear-gradient(180deg,#d7ffd4,#f7fff7); border-radius:16px; overflow:hidden;border:1px solid #b6ecb6}
  .leafy{position:absolute;background:#baf2b8;border-radius:20px;filter:brightness(.95)}
  .animal{position:absolute;font-size:28px;cursor:pointer;user-select:none}
  .found{filter:grayscale(1) brightness(1.2)}
  /* Responsive */
  @media (min-width:700px){
    .menu{grid-template-columns:repeat(5,1fr)}
  }
</style>
</head>
<body>
<header>
  <div class="brand">
    <div class="logo">üêíüçå</div>
    <div>
      <div>Monkey‚Äôs Jungle Quest</div>
      <div class="tagline">Play ¬∑ Learn ¬∑ Explore</div>
    </div>
  </div>
</header>

<main>
  <section id="home" class="grid">
    <div class="card">
      <p class="title">Pick a mini‚Äëgame</p>
      <p class="sub">No installs needed. Works offline. Tap to play!</p>
      <div class="menu">
        <button class="btn" onclick="showGame('mathGame')">üçå Banana Math</button>
        <button class="btn" onclick="showGame('letters')">üß≠ Maze Letters</button>
        <button class="btn" onclick="showGame('memory')">üÉè Memory Match</button>
        <button class="btn" onclick="showGame('puzzle')">üß© Sliding Puzzle</button>
        <button class="btn" onclick="showGame('hide')">üëÄ Hide & Seek</button>
      </div>
      <p class="footer-note">Designed for ages ~3‚Äì6. Single file demo.</p>
    </div>
  </section>

  <!-- Banana Math -->
  <section id="mathGame" class="grid hidden">
    <div class="card scene">
      <div class="topbar">
        <button class="back" onclick="goHome()">‚Üê Back</button>
        <div class="score"><span class="banana">üçå</span><span id="bananaCount">0</span></div>
      </div>
      <p class="title">Banana Math</p>
      <p class="sub">Add the numbers. Tap the correct answer to collect bananas!</p>
      <div class="q" id="mathQ">1 + 2 = ?</div>
      <div class="choices" id="mathChoices"></div>
      <div class="feedback" id="mathFeedback"></div>
    </div>
  </section>

  <!-- Letter Path (Maze with animal names) -->
  <section id="letters" class="grid hidden">
    <div class="card scene">
      <div class="topbar">
        <button class="back" onclick="goHome()">‚Üê Back</button>
        <div class="score">Animal: <span id="currentAnimal">TIGER</span> üêØ</div>
      </div>
      <p class="title">Maze Letters</p>
      <p class="sub">Tap letters in order to spell the animal name (make a path!).</p>
      <div id="letterInfo" class="sub" style="text-align:center;margin-bottom:10px;"></div>
      <div id="letterGrid" class="grid"></div>
      <div style="text-align:center;margin-top:10px">
        <button class="btn light" onclick="newLetterRound()">New Word</button>
      </div>
    </div>
  </section>

  <!-- Memory Match -->
  <section id="memory" class="grid hidden">
    <div class="card scene">
      <div class="topbar">
        <button class="back" onclick="goHome()">‚Üê Back</button>
        <div class="score">Matches: <span id="memMatches">0</span>/6</div>
      </div>
      <p class="title">Memory Match</p>
      <p class="sub">Find the animal pairs.</p>
      <div id="memoryBoard" class="board"></div>
      <div style="text-align:center;margin-top:10px">
        <button class="btn light" onclick="setupMemory()">Shuffle</button>
      </div>
    </div>
  </section>

  <!-- Sliding Puzzle -->
  <section id="puzzle" class="grid hidden">
    <div class="card scene">
      <div class="topbar">
        <button class="back" onclick="goHome()">‚Üê Back</button>
        <div class="score">Moves: <span id="moves">0</span></div>
      </div>
      <p class="title">Sliding Puzzle</p>
      <p class="sub">Slide tiles to order 1‚Äì8. (Tip: leave the blank last.)</p>
      <div id="puzzleBoard" class="board"></div>
      <div style="text-align:center;margin-top:10px">
        <button class="btn light" onclick="setupPuzzle()">New Puzzle</button>
      </div>
    </div>
  </section>

  <!-- Hide & Seek -->
  <section id="hide" class="grid hidden">
    <div class="card scene">
      <div class="topbar">
        <button class="back" onclick="goHome()">‚Üê Back</button>
        <div class="score">Found: <span id="foundCount">0</span>/5</div>
      </div>
      <p class="title">Hide & Seek</p>
      <p class="sub">Find the hidden jungle friends!</p>
      <div id="hidePlay" class="play"></div>
      <div style="text-align:center;margin-top:10px">
        <button class="btn light" onclick="setupHide()">Play Again</button>
      </div>
    </div>
  </section>
</main>

<script>
  // Navigation
  function showGame(id){
    document.querySelectorAll('main section').forEach(s=>s.classList.add('hidden'));
    document.getElementById(id).classList.remove('hidden');
    if(id==='mathGame') setupMath();
    if(id==='memory') setupMemory();
    if(id==='puzzle') setupPuzzle();
    if(id==='letters') newLetterRound();
    if(id==='hide') setupHide();
    window.scrollTo({top:0,behavior:'smooth'});
  }
  function goHome(){
    document.querySelectorAll('main section').forEach(s=>s.classList.add('hidden'));
    document.getElementById('home').classList.remove('hidden');
  }

  // 1) Banana Math
  let bananas = 0;
  function setupMath(){
    const a = Math.floor(Math.random()*5)+1;
    const b = Math.floor(Math.random()*5)+1;
    const ans = a+b;
    const qEl = document.getElementById('mathQ');
    const chEl = document.getElementById('mathChoices');
    const fb = document.getElementById('mathFeedback');
    qEl.textContent = `${a} + ${b} = ?`;
    fb.textContent = '';
    const opts = new Set([ans]);
    while(opts.size<3){
      const r = Math.max(0, ans + (Math.floor(Math.random()*5)-2));
      opts.add(r);
    }
    const shuffled = Array.from(opts).sort(()=>Math.random()-0.5);
    chEl.innerHTML='';
    shuffled.forEach(v=>{
      const btn = document.createElement('button');
      btn.textContent = v;
      btn.addEventListener('click', ()=>{
        if(v===ans){
          bananas++;
          document.getElementById('bananaCount').textContent = bananas;
          fb.textContent = 'Great! üçå';
          setTimeout(setupMath, 700);
        }else{
          fb.textContent = 'Try again! üôÇ';
        }
      });
      chEl.appendChild(btn);
    });
  }

  // 2) Letter Path (animal names)
  const animals = [
    {name:'TIGER', emoji:'üêØ'},
    {name:'ZEBRA', emoji:'ü¶ì'},
    {name:'FROG', emoji:'üê∏'},
    {name:'LION', emoji:'ü¶Å'},
    {name:'MONKEY', emoji:'üêí'},
    {name:'PARROT', emoji:'ü¶ú'},
    {name:'ELEPHANT', emoji:'üêò'}
  ];
  let letterTarget = '';
  let letterPath = [];
  function newLetterRound(){
    const pick = animals[Math.floor(Math.random()*animals.length)];
    letterTarget = pick.name;
    letterPath = [];
    document.getElementById('currentAnimal').textContent = pick.name + ' ' + pick.emoji;
    document.getElementById('letterInfo').textContent = `Tap letters to spell ‚Äú${pick.name}‚Äù.`;
    const grid = document.getElementById('letterGrid');
    grid.innerHTML='';
    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    // 5x5 grid containing the word in a snakey random path
    const size = 5;
    const cells = new Array(size*size).fill('');
    // place path
    let pos = Math.floor(Math.random()*size)*size + Math.floor(Math.random()*size);
    cells[pos] = letterTarget[0];
    let used = new Set([pos]);
    function neighbors(p){
      const x = p%size, y = Math.floor(p/size);
      const ns = [];
      if(x>0) ns.push(p-1);
      if(x<size-1) ns.push(p+1);
      if(y>0) ns.push(p-size);
      if(y<size-1) ns.push(p+size);
      return ns.filter(n=>!used.has(n));
    }
    for(let i=1;i<letterTarget.length;i++){
      let ns = neighbors(pos);
      if(ns.length===0){ // restart if stuck
        return newLetterRound();
      }
      pos = ns[Math.floor(Math.random()*ns.length)];
      used.add(pos);
      cells[pos]=letterTarget[i];
    }
    // Fill other cells with random letters
    for(let i=0;i<cells.length;i++){
      if(!cells[i]) cells[i] = letters[Math.floor(Math.random()*letters.length)];
    }
    // render
    for(let i=0;i<cells.length;i++){
      const div = document.createElement('div');
      div.className='cell';
      div.textContent = cells[i];
      div.dataset.index = i;
      div.addEventListener('click', ()=>{
        handleLetterTap(div);
      });
      grid.appendChild(div);
    }
  }
  function handleLetterTap(cell){
    const ch = cell.textContent;
    const expected = letterTarget[letterPath.length];
    if(ch===expected){
      cell.classList.add('active');
      letterPath.push(cell.dataset.index);
      if(letterPath.length===letterTarget.length){
        document.getElementById('letterInfo').textContent = `Yay! You spelled ${letterTarget}! ‚úÖ`;
        setTimeout(newLetterRound, 1000);
      }
    }else{
      // soft reset highlights
      document.querySelectorAll('#letters .cell.active').forEach(c=>c.classList.remove('active'));
      letterPath = [];
      document.getElementById('letterInfo').textContent = `Oops‚Äîstart from the first letter: ‚Äú${letterTarget[0]}‚Äù.`;
    }
  }

  // 3) Memory Match
  const memIconsBase = ['üêí','üêò','ü¶Å','ü¶ì','ü¶ú','üê∏'];
  let memFirst=null, memLock=false, memMatches=0;
  function setupMemory(){
    const board = document.getElementById('memoryBoard');
    const pool = [...memIconsBase, ...memIconsBase].sort(()=>Math.random()-0.5);
    board.innerHTML='';
    memFirst=null; memLock=false; memMatches=0;
    document.getElementById('memMatches').textContent = '0';
    pool.forEach((icon,i)=>{
      const t = document.createElement('div');
      t.className='tile';
      t.textContent='‚ùì';
      t.dataset.icon = icon;
      t.dataset.index = i;
      t.addEventListener('click', ()=> openTile(t));
      board.appendChild(t);
    });
  }
  function openTile(tile){
    if(memLock || tile.classList.contains('matched') || tile.classList.contains('open')) return;
    tile.classList.add('open'); tile.textContent = tile.dataset.icon;
    if(!memFirst){ memFirst = tile; return; }
    if(memFirst.dataset.icon === tile.dataset.icon){
      memFirst.classList.add('matched'); tile.classList.add('matched');
      memFirst=null;
      memMatches++;
      document.getElementById('memMatches').textContent = memMatches;
      if(memMatches===memIconsBase.length){
        setTimeout(()=>alert('All pairs found! üéâ'), 50);
      }
    }else{
      memLock = true;
      setTimeout(()=>{
        tile.classList.remove('open'); tile.textContent='‚ùì';
        memFirst.classList.remove('open'); memFirst.textContent='‚ùì';
        memFirst=null; memLock=false;
      }, 700);
    }
  }

  // 4) Sliding Puzzle 3x3
  let puzzle = [];
  function setupPuzzle(){
    const board = document.getElementById('puzzleBoard');
    board.innerHTML='';
    // Generate a solvable shuffle for 8-puzzle
    do{
      puzzle = [...Array(8).keys()].map(x=>x+1).concat([0]).sort(()=>Math.random()-0.5);
    }while(!isSolvable(puzzle));
    document.getElementById('moves').textContent = '0';
    puzzle.forEach((n,idx)=>{
      const d = document.createElement('div');
      d.className = 'piece'+(n===0?' blank':'');
      d.textContent = n===0?'':n;
      d.dataset.index = idx;
      d.addEventListener('click', ()=> movePiece(idx));
      board.appendChild(d);
    });
  }
  function isSolvable(arr){
    let inv=0;
    for(let i=0;i<arr.length;i++){
      for(let j=i+1;j<arr.length;j++){
        if(arr[i] && arr[j] && arr[i]>arr[j]) inv++;
      }
    }
    // For 3x3 with blank on last row from top: even inversions = solvable
    return inv%2===0;
  }
  function movePiece(idx){
    const zero = puzzle.indexOf(0);
    const adj = [idx-1, idx+1, idx-3, idx+3].filter(i=>i>=0 && i<9);
    if(!adj.includes(zero)) return;
    // Disallow wrap around between rows for left/right
    const sameRow = Math.floor(idx/3)===Math.floor(zero/3);
    if((idx===zero-1 || idx===zero+1) && !sameRow) return;
    // swap
    [puzzle[idx], puzzle[zero]] = [puzzle[zero], puzzle[idx]];
    const board = document.getElementById('puzzleBoard');
    const nodes = board.children;
    nodes[zero].textContent = puzzle[zero]===0?'':puzzle[zero];
    nodes[zero].className = 'piece'+(puzzle[zero]===0?' blank':'');
    nodes[idx].textContent = puzzle[idx]===0?'':puzzle[idx];
    nodes[idx].className = 'piece'+(puzzle[idx]===0?' blank':'');
    // moves
    const mvEl = document.getElementById('moves');
    mvEl.textContent = (parseInt(mvEl.textContent)+1);
    // check win
    if(puzzle.slice(0,8).every((v,i)=>v===i+1)){
      setTimeout(()=>alert('Great job! üêí You solved it!'), 50);
    }
  }

  // 5) Hide & Seek
  const hideAnimals = ['üêí','ü¶Å','ü¶ì','üêò','ü¶ú'];
  function setupHide(){
    const p = document.getElementById('hidePlay');
    p.innerHTML='';
    let found = 0;
    document.getElementById('foundCount').textContent = '0';
    // leaves
    for(let i=0;i<25;i++){
      const l = document.createElement('div');
      l.className='leafy';
      const w = 30+Math.random()*120, h = 16+Math.random()*60;
      l.style.width = w+'px'; l.style.height = h+'px';
      l.style.left = Math.random()*(p.clientWidth - w) + 'px';
      l.style.top  = Math.random()*(p.clientHeight - h) + 'px';
      l.style.transform = `rotate(${(Math.random()*40-20).toFixed(1)}deg)`;
      l.style.opacity = (0.55 + Math.random()*0.35).toFixed(2);
      p.appendChild(l);
    }
    // animals (on top)
    hideAnimals.forEach((em,i)=>{
      const a = document.createElement('div');
      a.className='animal';
      a.textContent = em;
      const left = 20 + Math.random()*(p.clientWidth-60);
      const top  = 20 + Math.random()*(p.clientHeight-60);
      a.style.left = left+'px';
      a.style.top  = top+'px';
      a.addEventListener('click', ()=>{
        if(a.classList.contains('found')) return;
        a.classList.add('found');
        found++;
        document.getElementById('foundCount').textContent = found;
        if(found===hideAnimals.length){
          setTimeout(()=>alert('You found them all! üéâ'), 50);
        }
      });
      p.appendChild(a);
    });
  }

  // Start on home
  goHome();
</script>
</body>
</html>
